{% extends "habits/habits.html" %}

{% block main %}

<a href="{% url 'habit_delete' habit.pk %}" class="btn btn-outline-danger mr-2" style="float:right" role="button" data-toggle="tooltip" data-placement="bottom" id="delete_habit" title="Delete {{ habit }}">
  <i class="far fa-minus-square"></i>
</a>
<a href="{% url 'habit_edit' habit_id=habit_id %}" class="btn btn-outline-info mr-2" style="float:right" role="button" data-toggle="tooltip" data-placement="bottom" title="Edit {{ habit }}">
  <i class="fas fa-pencil-alt"></i>
</a>
<a href="{% url 'action_new' habit_id=habit_id %}" class="btn btn-outline-info mr-2" style="float:right" role="button" data-toggle="tooltip" data-placement="bottom" title="Add an action">
  <i class="far fa-plus-square"></i>
</a>

<h2>{{ habit }}</h2>

<table class="table">
  <tr>
    <th></th>
    <th>Actions</th>
    <th>Triggers</th>
    <th>Date/Time</th>
  </tr>
  {% for action in action_list %}
  <tr>
    <td>
      <a href="{% url 'action_edit' habit_id=habit.id pk=action.pk %}" class="btn btn-outline-info mr-2 btn-sm" role="button" data-toggle="tooltip" data-placement="bottom" title="Edit {{ action }}">
        <i class="fas fa-pencil-alt"></i>
      </a>
      <a href="{% url 'action_delete' pk=action.pk %}" class="btn btn-outline-danger mr-2 btn-sm" role="button" data-toggle="tooltip" data-placement="bottom" title="Delete {{ action }}">
        <i class="far fa-minus-square"></i>
      </a>
    </td>
    <td>
      {{ action }}<br/><br/>
    </td>
    <td>
      {% for t in action.triggers.all %}
      {{ t }},
      {% endfor %}
    </td>
    <td>{{ action.action_time }}</td>
  </tr>
  {% endfor %}
</table>

{% endblock %}
